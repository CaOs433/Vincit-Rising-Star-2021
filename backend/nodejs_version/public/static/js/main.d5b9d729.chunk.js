(this.webpackJsonpreact_version=this.webpackJsonpreact_version||[]).push([[0],{27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),s=a.n(c),i=(a(27),a(6)),o=(a(28),a(38)),d=a(36),l=a(37),u=a(39),b=a(1);function j(e){var t=r.a.useState(),a=Object(i.a)(t,2),n=a[0],c=a[1],s=r.a.useState(),o=Object(i.a)(s,2),d=o[0],l=o[1],u=r.a.useState(""),j=Object(i.a)(u,2),h=j[0],x=j[1],g=r.a.useState(!1),O=Object(i.a)(g,2),f=O[0],v=O[1],m=function(e){return{border:"2px solid",borderColor:e?"#f11":"#ccccccee",borderRadius:"4px",backgroundColor:"#f8f8f8aa",alignSelf:"end",marginLeft:"2px",marginRight:"2px"}};return r.a.useEffect((function(){n&&d&&(n<d?(console.log("User typed:\nstart date: ".concat(n,"\nend date: ").concat(d)),x(""),v(!1),e.setOutputOk(!0),e.setStartDate(n+3600),e.setEndDate(d+3600)):(x("Start date must be before end date"),v(!0),e.setOutputOk(!1)))}),[e,n,d]),Object(b.jsxs)("div",{style:p.container,className:"d-inline-block",children:[Object(b.jsx)("h2",{children:"Input"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{style:p.inputs,children:[Object(b.jsx)("h4",{children:"Date range"}),Object(b.jsxs)("div",{style:p.inputGroup,children:[Object(b.jsx)("label",{style:p.inputLabel,htmlFor:"input_start_date",children:"Start date:"}),Object(b.jsx)("input",{type:"date",name:"input_start_date",style:m(f),onChange:function(e){return c(new Date(e.target.value).getTime()/1e3)}})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{style:p.inputGroup,children:[Object(b.jsx)("label",{style:p.inputLabel,htmlFor:"input_end_date",children:"End date:"}),Object(b.jsx)("input",{type:"date",name:"input_end_date",style:m(f),onChange:function(e){return l(new Date(e.target.value).getTime()/1e3)}})]}),Object(b.jsx)("div",{style:{color:"#e11"},children:h})]})]})}var p={container:{backgroundColor:"#DDDDEECC",padding:"12px",borderRadius:"12px",width:"fit-content"},inputGroup:{backgroundColor:"#abcabccc",borderRadius:"4px",padding:"2px"},inputs:{backgroundColor:"#DDDDDDBB",textAlign:"left",margin:"2px",padding:"4px",borderRadius:"4px"},inputLabel:{width:"92px",marginLeft:"2px"}},h=a(11),x=a.n(h),g=a(15),O=a(35),f=a(18),v=864e5,m=function(e){var t=[];return e.forEach((function(e){var a=(e[0]/v|0)*v+1e3;void 0===t.find((function(e){return e[0]===a}))&&t.push([a,e[1]])})),t};function y(e){var t,a=function(e,t){var a,n,r,c=m(e),s=[],i=0,o=0,d=0,l=-1,u=Object(f.a)(c);try{for(u.s();!(a=u.n()).done;){var b=a.value;if(-1!==l){if(n=b[1],r=l,t?n>r:n<r){var j=t?d-l:l-d,p=(o-i)/v|0;s.push({start:i,end:o,change:j,days:p}),i=b[0],d=b[1]}o=b[0],l=b[1]}else i=b[0],o=b[0],d=b[1],l=b[1]}}catch(_){u.e(_)}finally{u.f()}for(var h=!1,x=0,g=s;x<g.length;x++){var O=g[x];O.start===i&&O.end===o&&(h=!0)}if(!h){var y=t?d-l:l-d;if(y>0){var D=(o-i)/v|0;s.push({start:i,end:o,change:y,days:D})}}return s}(e.prices,!0);a.sort((function(e,t){return e.days-t.days}));var n=a.pop();return console.log("Last: ",n),{days:null!==(t=null===n||void 0===n?void 0:n.days)&&void 0!==t?t:-1}}function D(e){var t=function(e){if(!(e.length<2)){var t,a=-1,n=e[0][1],r=e[0][0],c=-1,s=-1,i=Object(f.a)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;o[1]>n&&o[1]-n>a&&(a=o[1]-n,c=o[0],s=r),o[1]<n&&(n=o[1],r=o[0])}}catch(d){i.e(d)}finally{i.f()}return console.log("max_change: ",a,"\nmin_val: ",n,"\nmin_date: ",r,"\nmax_date: ",c,"\nmin_date_rtn: ",s),{start:s,end:c,change:a}}}(m(e.prices));if(t){if(console.log(t),t.start>0&&t.end>0)return{buy_date:t.start,sell_date:t.end}}else console.log("arr not defined");return{should_trade:!1}}function _(e){try{var t=JSON.parse(e);return{a:y(t),b:function(e){var t,a=m(e.total_volumes);a.sort((function(e,t){return e[1]-t[1]}));var n=null!==(t=a.pop())&&void 0!==t?t:[-1,-1];return{date:n[0],value:n[1]}}(t),c:D(t)}}catch(a){console.log("Error: ",a)}}var k="https://api.coingecko.com/api/v3/coins";function S(e,t){return R.apply(this,arguments)}function R(){return(R=Object(g.a)(x.a.mark((function e(t,a){var n,r,c,s,i,o=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:"bitcoin",r=o.length>3&&void 0!==o[3]?o[3]:"eur",c="".concat(k,"/").concat(n,"/market_chart/range?vs_currency=").concat(r,"&from=").concat(t,"&to=").concat(a),e.next=5,fetch(c);case 5:if(200!==(s=e.sent).status){e.next=20;break}return console.log("(200): success"),e.next=10,s.json();case 10:return i=e.sent,e.prev=11,e.abrupt("return",_(JSON.stringify(i)));case 15:e.prev=15,e.t0=e.catch(11),console.log("Error: ",e.t0);case 18:e.next=21;break;case 20:console.log("Error: status code (".concat(s.status,")"));case 21:case"end":return e.stop()}}),e,null,[[11,15]])})))).apply(this,arguments)}function C(e){var t=r.a.useState(-1),a=Object(i.a)(t,2),n=a[0],c=a[1],s=r.a.useState(-1),o=Object(i.a)(s,2),u=o[0],j=o[1],p=r.a.useState({days:-1}),h=Object(i.a)(p,2),f=h[0],v=h[1],m=r.a.useState({date:-1,value:-1}),y=Object(i.a)(m,2),D=y[0],_=y[1],k=r.a.useState({buy_date:-1,sell_date:-1,should_trade:!1}),R=Object(i.a)(k,2),C=R[0],E=R[1],L=r.a.useState(!1),B=Object(i.a)(L,2),T=B[0],N=B[1],G=function(){var e=Object(g.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,S(t,a);case 3:(n=e.sent)&&(v(n.a),_(n.b),E(n.c)),N(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Date(e);return e>0?t?a.toLocaleString("fi-FI",{timeZone:"UTC"}):a.toLocaleDateString("fi-FI"):"-"};return r.a.useEffect((function(){e.startDate>0&&e.endDate>0&&e.startDate<=e.endDate&&(G(e.startDate,e.endDate),c(1e3*e.startDate),j(1e3*e.endDate))}),[e]),Object(b.jsxs)("div",{style:w.container,children:[Object(b.jsx)("h2",{children:"Output"}),Object(b.jsx)("hr",{}),T?Object(b.jsxs)("h3",{children:["Loading... ",Object(b.jsx)(O.a,{animation:"grow",variant:"light"})]}):Object(b.jsxs)("div",{style:w.outputs,className:"d-inline-block",children:[Object(b.jsxs)("p",{children:["Between ",F(n)," and ",F(u)," Bitcoin's..."]}),Object(b.jsxs)(d.a,{sm:12,children:[Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{style:w.outputGroup,children:[Object(b.jsx)("h4",{children:"A"}),Object(b.jsxs)("p",{children:["price dropped ",Object(b.jsx)("span",{style:w.value,children:f.days})," days in row."]})]})}),Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{style:w.outputGroup,children:[Object(b.jsx)("h4",{children:"B"}),Object(b.jsxs)("p",{children:["highest trading volume was on ",Object(b.jsx)("span",{style:w.value,children:F(D.date)})," with ",Object(b.jsx)("span",{style:w.value,children:D.value})," euros."]})]})}),Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{style:w.outputGroup,children:[Object(b.jsx)("h4",{children:"C"}),Object(b.jsx)("p",{children:"most profitable trading dates were"}),(console.log(C),C.buy_date&&C.sell_date?Object(b.jsxs)("p",{children:["Buy date: ",Object(b.jsx)("span",{style:w.value,children:F(C.buy_date)}),Object(b.jsx)("br",{}),"Sell date: ",Object(b.jsx)("span",{style:w.value,children:F(C.sell_date)})]}):C.should_trade?Object(b.jsx)("p",{children:"-"}):Object(b.jsx)("p",{style:w.value,children:"YOU SHOULD NOT TRADE ON THE GIVEN DATE RANGE!"}))]})})]})]})]})}var w={container:{backgroundColor:"#DDDDEECC",color:"#333",borderRadius:"12px",borderWidth:"4px",borderColor:"#222",padding:"12px",width:"fit-content"},outputs:{backgroundColor:"#DDDDDDBB",textAlign:"left",margin:"2px",padding:"4px",borderRadius:"4px"},outputGroup:{backgroundColor:"#abcabccc",borderRadius:"4px",padding:"4px",width:"100%",height:"100%",marginBottom:"4px"},value:{fontWeight:"bold"}};function E(){var e=r.a.useState(-1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=r.a.useState(-1),s=Object(i.a)(c,2),p=s[0],h=s[1],x=r.a.useState(!1),g=Object(i.a)(x,2),O=g[0],f=g[1];return Object(b.jsx)("div",{style:L.body,children:Object(b.jsx)("main",{role:"main",className:"container-fluid",style:L.main,children:Object(b.jsx)(o.a,{fluid:!0,className:"text-center",children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)(l.a,{sm:1}),Object(b.jsxs)(l.a,{sm:10,style:{minWidth:"fit-content"},children:[Object(b.jsx)(u.a,{className:"navbar-inverse",bg:"dark",variant:"dark",expand:"lg",style:L.header,children:Object(b.jsxs)(u.a.Brand,{children:[Object(b.jsx)("img",{src:"/bitcoin_icon.png",alt:"bitcoin_icon",className:"d-inline-block align-top",style:L.brand_icon}),Object(b.jsx)("h1",{className:"d-inline-block align-top",children:"Crypto Time Machine"})]})}),Object(b.jsxs)(o.a,{fluid:!0,style:L.container,children:[Object(b.jsx)("br",{}),Object(b.jsx)(j,{setStartDate:n,setEndDate:h,setOutputOk:f}),Object(b.jsx)("hr",{}),O?Object(b.jsx)(C,{startDate:a,endDate:p}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("br",{})]}),Object(b.jsx)("footer",{id:"sticky-footer",className:"site-footer clearfix py-2 bg-dark text-white-50 mr-auto",style:L.footer,children:Object(b.jsx)(o.a,{className:"text-center",children:Object(b.jsxs)("small",{children:[Object(b.jsx)("a",{href:"https://github.com/CaOs433/Vincit-Rising-Star-2021",rel:"noreferrer",target:"_blank",children:"Github"})," - Oskari Saarinen \xa9 2021"]})})})]}),Object(b.jsx)(l.a,{sm:1})]})})})})}var L={body:{marginLeft:0,marginRight:0,width:"100%",height:"100%",paddingTop:20},main:{marginLeft:"0px",marginBottom:"40px",marginTop:"0px"},header:{borderTopLeftRadius:"40px",borderTopRightRadius:"40px",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"},container:{backgroundColor:"#A12",textAlign:"center"},footer:{borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderBottomLeftRadius:"30px",borderBottomRightRadius:"30px",marginTop:"-16px",backgroundColor:"rgba(200,200,200,0.2)"},brand_icon:{width:"54px",height:"54px",marginRight:"8px",marginLeft:"14px"}},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root")),B()}},[[33,1,2]]]);
//# sourceMappingURL=main.d5b9d729.chunk.js.map