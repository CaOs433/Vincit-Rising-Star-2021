(this.webpackJsonpreact_version=this.webpackJsonpreact_version||[]).push([[0],{27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),i=n.n(c),s=(n(27),n(6)),o=(n(28),n(38)),d=n(36),l=n(37),u=n(39),b=n(1);function p(e){var t=r.a.useState(),n=Object(s.a)(t,2),a=n[0],c=n[1],i=r.a.useState(),o=Object(s.a)(i,2),d=o[0],l=o[1],u=r.a.useState(""),p=Object(s.a)(u,2),h=p[0],x=p[1],g=r.a.useState(!1),f=Object(s.a)(g,2),O=f[0],m=f[1],v=r.a.useState(!0),y=Object(s.a)(v,2),_=y[0],k=y[1],D=function(e){return{border:"2px solid",borderColor:e?"#f11":"#ccccccee",borderRadius:"4px",backgroundColor:"#f8f8f8aa",marginLeft:"2px",marginRight:"2px",minWidth:"100px"}},w=function(e){return new Date<new Date(1e3*e)},S=r.a.useCallback((function(){if(a&&d){if(console.log("User typed:\nstart date: ".concat(a,"\nend date: ").concat(d)),w(a)||w(d))return console.log("Dates can't be in the future!"),x("Dates can't be in the future!"),m(!0),void e.setOutputOk(!1);a<d?(x(""),m(!1),e.setOutputOk(!0),e.setStartDate(a),e.setEndDate(d+3600)):(x("Start date must be before end date"),m(!0),e.setOutputOk(!1))}}),[d,e,a]);return r.a.useEffect((function(){_&&S()}),[_,S]),Object(b.jsxs)("div",{style:j.container,className:"d-inline-block clearfix",children:[Object(b.jsx)("h2",{children:"Input"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{style:j.inputs,children:[Object(b.jsx)("h4",{children:"Date range"}),Object(b.jsxs)("div",{style:j.inputGroup,children:[Object(b.jsx)("label",{style:j.inputLabel,htmlFor:"input_start_date",children:"Start date:"}),Object(b.jsxs)("div",{style:{width:"fit-content",display:"inline-block"},children:[Object(b.jsx)("div",{style:{width:"20px",display:"inline-block"}}),Object(b.jsx)("input",{type:"date",name:"input_start_date",style:D(O),onChange:function(e){return c(new Date(e.target.value).getTime()/1e3)}})]})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{style:j.inputGroup,children:[Object(b.jsx)("label",{style:j.inputLabel,htmlFor:"input_end_date",children:"End date:"}),Object(b.jsxs)("div",{style:{width:"fit-content",display:"inline-block"},children:[Object(b.jsx)("div",{style:{width:"20px",display:"inline-block"}}),Object(b.jsx)("input",{type:"date",name:"input_end_date",style:D(O),className:"pull-right",onChange:function(e){return l(new Date(e.target.value).getTime()/1e3)}})]})]}),Object(b.jsx)("div",{style:{color:"#e11"},children:h}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{style:j.submitGroup,children:[Object(b.jsx)("label",{style:j.submitLabel,htmlFor:"check_auto_update",children:"Auto update:"}),Object(b.jsxs)("div",{style:{width:"fit-content",display:"inline-block"},children:[Object(b.jsx)("div",{style:{width:"20px",display:"inline-block"}}),Object(b.jsx)("input",{type:"checkbox",name:"check_auto_update",style:j.checkbox,defaultChecked:_,onClick:function(){return k(!_)}}),_?Object(b.jsx)(b.Fragment,{}):Object(b.jsx)("button",{type:"button",style:j.button,onClick:function(){return S()},children:"Set range"})]})]})]})]})}var j={container:{backgroundColor:"#DDDDEECC",padding:"12px",borderRadius:"12px",width:"fit-content"},inputGroup:{backgroundColor:"#abcabccc",borderRadius:"4px",padding:"2px",marginBottom:"4px"},inputs:{backgroundColor:"#DDDDDDBB",textAlign:"left",margin:"2px",padding:"4px",borderRadius:"4px",overflow:"hidden"},inputLabel:{width:"140px",marginLeft:"2px"},submitLabel:{width:"128px",marginLeft:"2px"},checkbox:{alignSelf:"end",marginLeft:"2px",marginRight:"2px"},submitGroup:{backgroundColor:"#bbbacccc",borderRadius:"4px",padding:"2px",marginBottom:"4px"},button:{color:"#fff",backgroundColor:"#25F",borderRadius:"6px",borderColor:"#00000000",paddingLeft:"4px",paddingRight:"4px",paddingTop:"2px",paddingBottom:"2px",margin:"4px",minWidth:"90px",height:"32px"}},h=n(11),x=n.n(h),g=n(15),f=n(35),O=n(18),m=864e5,v=function(e){var t=[];return e.forEach((function(e){var n=(e[0]/m|0)*m+1e3;void 0===t.find((function(e){return e[0]===n}))&&t.push([n,e[1]])})),t};function y(e){var t,n=function(e,t){var n=v(e);if(n.length<2)return[];var a,r,c,i=[],s=0,o=0,d=0,l=-1,u=Object(O.a)(n);try{for(u.s();!(a=u.n()).done;){var b=a.value;if(-1!==l){if(r=b[1],c=l,t?r>c:r<c){var p=t?d-l:l-d,j=(o-s)/m|0;i.push({start:s,end:o,change:p,days:j}),s=b[0],d=b[1]}o=b[0],l=b[1]}else s=b[0],o=b[0],d=b[1],l=b[1]}}catch(k){u.e(k)}finally{u.f()}for(var h=!1,x=0,g=i;x<g.length;x++){var f=g[x];f.start===s&&f.end===o&&(h=!0)}if(!h){var y=t?d-l:l-d;if(y>0){var _=(o-s)/m|0;i.push({start:s,end:o,change:y,days:_})}}return i}(e.prices,!0);n.sort((function(e,t){return e.days-t.days}));var a=n.pop();return console.log("Last: ",a),{days:null!==(t=null===a||void 0===a?void 0:a.days)&&void 0!==t?t:-1}}function _(e){var t=function(e){if(!(e.length<2)){var t,n=-1,a=e[0][1],r=e[0][0],c=-1,i=-1,s=Object(O.a)(e);try{for(s.s();!(t=s.n()).done;){var o=t.value;o[1]>a&&o[1]-a>n&&(n=o[1]-a,c=o[0],i=r),o[1]<a&&(a=o[1],r=o[0])}}catch(d){s.e(d)}finally{s.f()}return console.log("max_change: ",n,"\nmin_val: ",a,"\nmin_date: ",r,"\nmax_date: ",c,"\nmin_date_rtn: ",i),{start:i,end:c,change:n}}}(v(e.prices));if(t){if(console.log(t),t.start>0&&t.end>0)return{buy_date:t.start,sell_date:t.end}}else console.log("arr not defined");return{should_trade:!1}}function k(e){try{var t=JSON.parse(e);return{a:y(t),b:function(e){var t,n=v(e.total_volumes);n.sort((function(e,t){return e[1]-t[1]}));var a=null!==(t=n.pop())&&void 0!==t?t:[-1,-1];return{date:a[0],value:a[1]}}(t),c:_(t)}}catch(n){console.log("Error: ",n)}}var D="https://api.coingecko.com/api/v3/coins";function w(e,t){return S.apply(this,arguments)}function S(){return(S=Object(g.a)(x.a.mark((function e(t,n){var a,r,c,i,s,o=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:"bitcoin",r=o.length>3&&void 0!==o[3]?o[3]:"eur",c="".concat(D,"/").concat(a,"/market_chart/range?vs_currency=").concat(r,"&from=").concat(t,"&to=").concat(n),e.next=5,fetch(c);case 5:if(200!==(i=e.sent).status){e.next=20;break}return console.log("(200): success"),e.next=10,i.json();case 10:return s=e.sent,e.prev=11,e.abrupt("return",k(JSON.stringify(s)));case 15:e.prev=15,e.t0=e.catch(11),console.log("Error: ",e.t0);case 18:e.next=21;break;case 20:console.log("Error: status code (".concat(i.status,")"));case 21:case"end":return e.stop()}}),e,null,[[11,15]])})))).apply(this,arguments)}function C(e){var t=r.a.useState(-1),n=Object(s.a)(t,2),a=n[0],c=n[1],i=r.a.useState(-1),o=Object(s.a)(i,2),u=o[0],p=o[1],j=r.a.useState({days:-1}),h=Object(s.a)(j,2),O=h[0],m=h[1],v=r.a.useState({date:-1,value:-1}),y=Object(s.a)(v,2),_=y[0],k=y[1],D=r.a.useState({buy_date:-1,sell_date:-1,should_trade:!1}),S=Object(s.a)(D,2),C=S[0],L=S[1],B=r.a.useState(!1),E=Object(s.a)(B,2),N=E[0],T=E[1],G=function(){var e=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,w(t,n);case 3:(a=e.sent)&&(m(a.a),k(a.b),L(a.c)),T(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(e){return-1<e?e:"-"},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(e);return e>=12309408e5?t?n.toLocaleString("fi-FI",{timeZone:"UTC"}):n.toLocaleDateString("fi-FI"):"-"};return r.a.useEffect((function(){e.startDate>0&&e.endDate>0&&e.startDate<=e.endDate&&(G(e.startDate,e.endDate),c(1e3*e.startDate),p(1e3*e.endDate))}),[e]),Object(b.jsxs)("div",{style:R.container,children:[Object(b.jsx)("h2",{children:"Output"}),Object(b.jsx)("hr",{}),N?Object(b.jsxs)("h3",{children:["Loading... ",Object(b.jsx)(f.a,{animation:"grow",variant:"light"})]}):Object(b.jsxs)("div",{style:R.outputs,className:"d-inline-block",children:[Object(b.jsxs)("p",{children:["Between ",A(a)," and ",A(u)," Bitcoin's..."]}),Object(b.jsxs)(d.a,{sm:12,children:[Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{style:R.outputGroup,children:[Object(b.jsx)("h4",{children:"A"}),Object(b.jsxs)("p",{children:["price dropped ",Object(b.jsx)("span",{style:R.value,children:F(O.days)})," days in row."]})]})}),Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{style:R.outputGroup,children:[Object(b.jsx)("h4",{children:"B"}),Object(b.jsxs)("p",{children:["highest trading volume was on ",Object(b.jsx)("span",{style:R.value,children:A(_.date)})," with ",Object(b.jsx)("span",{style:R.value,children:F(_.value)})," euros."]})]})}),Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{style:R.outputGroup,children:[Object(b.jsx)("h4",{children:"C"}),Object(b.jsx)("p",{children:"most profitable trading dates were"}),(console.log(C),C.buy_date&&C.sell_date?Object(b.jsxs)("p",{children:["Buy date: ",Object(b.jsx)("span",{style:R.value,children:A(C.buy_date)}),Object(b.jsx)("br",{}),"Sell date: ",Object(b.jsx)("span",{style:R.value,children:A(C.sell_date)})]}):C.should_trade?Object(b.jsx)("p",{children:"-"}):Object(b.jsx)("p",{style:R.value,children:"YOU SHOULD NOT TRADE ON THE GIVEN DATE RANGE!"}))]})})]})]})]})}var R={container:{backgroundColor:"#DDDDEECC",color:"#333",borderRadius:"12px",borderWidth:"4px",borderColor:"#222",padding:"12px",width:"fit-content",margin:"auto"},outputs:{backgroundColor:"#DDDDDDBB",textAlign:"left",margin:"2px",padding:"4px",borderRadius:"4px"},outputGroup:{backgroundColor:"#abcabccc",borderRadius:"4px",padding:"4px",width:"100%",height:"100%",marginBottom:"4px"},value:{fontWeight:"bold"}};function L(){var e=r.a.useState(-1),t=Object(s.a)(e,2),n=t[0],a=t[1],c=r.a.useState(-1),i=Object(s.a)(c,2),j=i[0],h=i[1],x=r.a.useState(!1),g=Object(s.a)(x,2),f=g[0],O=g[1];return Object(b.jsx)("div",{style:B.body,children:Object(b.jsx)("main",{role:"main",className:"container-fluid",style:B.main,children:Object(b.jsx)(o.a,{fluid:!0,className:"text-center",children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)(l.a,{sm:1}),Object(b.jsxs)(l.a,{sm:10,style:{minWidth:"fit-content"},children:[Object(b.jsx)(u.a,{className:"navbar-inverse",bg:"dark",variant:"dark",expand:"lg",style:B.header,children:Object(b.jsxs)(o.a,{fluid:!0,children:[Object(b.jsxs)(u.a.Brand,{children:[Object(b.jsx)("img",{src:"/bitcoin_icon.png",alt:"bitcoin_icon",className:"d-inline-block align-top",style:B.brand_icon}),Object(b.jsx)("h1",{className:"d-inline-block align-top",children:"Crypto Time Machine"})]}),Object(b.jsx)("a",{href:"https://apps.apple.com/en/app/crypto-time-machine/id1602419673",rel:"noreferrer",target:"_blank",className:"pull-right",children:Object(b.jsx)("img",{alt:"app_store",src:"Download_on_the_App_Store_Badge_US-UK_RGB_wht_092917.svg"})})]})}),Object(b.jsxs)(o.a,{fluid:!0,style:B.container,children:[Object(b.jsx)("br",{}),Object(b.jsx)(p,{setStartDate:a,setEndDate:h,setOutputOk:O}),Object(b.jsx)("hr",{}),f?Object(b.jsx)(C,{startDate:n,endDate:j}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("br",{})]}),Object(b.jsx)("footer",{id:"sticky-footer",className:"site-footer clearfix py-2 bg-dark text-white-50 mr-auto",style:B.footer,children:Object(b.jsx)(o.a,{fluid:!0,className:"text-center",children:Object(b.jsx)(d.a,{className:"content-heading clearfix media",children:Object(b.jsx)("span",{children:Object(b.jsxs)("small",{children:[Object(b.jsx)("a",{href:"https://github.com/CaOs433/Vincit-Rising-Star-2021",rel:"noreferrer",target:"_blank",children:"Github"})," - Oskari Saarinen \xa9 2021"]})})})})})]}),Object(b.jsx)(l.a,{sm:1})]})})})})}var B={body:{marginLeft:0,marginRight:0,width:"100%",height:"100%",paddingTop:20},main:{marginLeft:"0px",marginBottom:"40px",marginTop:"0px"},header:{borderTopLeftRadius:"40px",borderTopRightRadius:"40px",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"},container:{backgroundColor:"#A12",textAlign:"center"},footer:{borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderBottomLeftRadius:"30px",borderBottomRightRadius:"30px",marginTop:"-16px",backgroundColor:"rgba(200,200,200,0.2)"},brand_icon:{width:"54px",height:"54px",marginRight:"8px",marginLeft:"14px"},app_store_badge:{paddingRight:10}},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root")),E()}},[[33,1,2]]]);
//# sourceMappingURL=main.acdf5893.chunk.js.map